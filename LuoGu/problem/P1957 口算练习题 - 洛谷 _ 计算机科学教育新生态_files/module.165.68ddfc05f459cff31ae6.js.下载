(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{1001:function(e,t,s){"use strict";s(989)},1004:function(e,t,s){},1005:function(e,t,s){"use strict";var a={components:{LScore:s(11).u},props:{problem:{type:Object,required:!0}}},r=s(10),n=Object(r.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return"number"==typeof e.problem.score?s("l-score",{attrs:{score:e.problem.score,"full-score":100,accepted:e.problem.accepted}}):s("span",[e._v("\n  无\n")])}),[],!1,null,null,null);t.a=n.exports},1006:function(e,t,s){"use strict";s(994)},1007:function(e,t,s){"use strict";s(995)},1011:function(e,t,s){"use strict";var a=s(4),r=s.n(a),n=s(13),l=s.n(n),o=s(11),i=s(9),c=s(6),u=s(2);c.c.add(u.a);var d={components:{LFreeButton:o.j},data:()=>({closed:!1,ad:null}),mounted(){this.fetch()},methods:{fetch(){var e=this;return l()(r.a.mark((function t(){var s,a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$lfeGetRoute({name:"advertisement.get_advertisement",params:{groupId:1}});case 3:return s=t.sent,t.next=6,Object(i.m)(s.href);case 6:a=t.sent,n=a.advertisement,e.ad=n,t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),e.$cnzz.trackEvent("QiafanBlock","fetchFailed",(e.$root.currentUser||{}).uid||"anonymous"),console.error("[AdvertisementBlock]","failed to load AD",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},close(){this.$cnzz.trackEvent("QiafanBlock","close",this.ad.id),this.$emit("close",this.closed=!0)},adClick(){this.$cnzz.trackEvent("QiafanBlock","click",this.ad.id)},adLoad(){this.$refs.img.complete?this.$cnzz.trackEvent("QiafanBlock","loaded",this.ad.id):this.$cnzz.trackEvent("QiafanBlock","loading",this.ad.id)}}},p=(s(1007),s(10)),m=Object(p.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.ad&&!e.closed?s("div",[s("a",{attrs:{href:e.ad.url,target:"_blank"},on:{click:e.adClick}},[s("img",{ref:"img",attrs:{src:e.ad.image.url},on:{load:e.adLoad}})]),e._v(" "),s("span",[s("font-awesome-icon",{attrs:{icon:"ad"}}),e._v(" 洛谷推荐")],1),e._v(" "),s("l-free-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("关闭")])],1):e._e()}),[],!1,null,"0a593618",null);t.a=m.exports},1012:function(e,t,s){"use strict";var a=s(6),r=s(2),n=s(1005);a.c.add(r.n,r.R,r.ob);var l={components:{ProblemScoreBlock:n.a},props:{problem:{type:Object,required:!0}}},o=(s(1006),s(10)),i=Object(o.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.problem.submitted?e.problem.accepted?s("font-awesome-icon",{staticClass:"icon",style:{color:e.$lfeGetTheme().color.success},attrs:{icon:"check"}}):void 0!==e.problem.score?s("problem-score-block",{attrs:{problem:e.problem}}):s("font-awesome-icon",{staticClass:"icon",staticStyle:{transform:"scale(1.2)"},style:{color:e.$lfeGetTheme().color.error},attrs:{icon:"times"}}):s("font-awesome-icon",{staticClass:"icon",staticStyle:{opacity:".7"},attrs:{icon:"minus"}})}),[],!1,null,"1b44b3e6",null);t.a=i.exports},1022:function(e,t,s){},1023:function(e,t,s){"use strict";s(1004)},1029:function(e,t,s){"use strict";var a=s(11),r=s(1012),n={components:{LLink:a.n,ProblemStatusIcon:r.a},props:{problem:{type:Object,required:!0},contest:{type:Object,default:null},showStatus:{type:Boolean,default:!0}},computed:{linkRoute(){var e={name:"problem.show",params:{pid:this.problem.pid},query:{}};return this.contest&&(e.query.contestId=this.contest.id),e}}},l=(s(1023),s(10)),o=Object(l.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.showStatus?s("problem-status-icon",{attrs:{problem:e.problem}}):e._e(),e._v(" "),s("l-link",{staticClass:"link",attrs:{to:e.linkRoute}},[s("span",{staticClass:"pid"},[e._v(e._s(e.problem.pid))]),e._v("\n    "+e._s(e.problem.title)+"\n  ")])],1)}),[],!1,null,"5ccef6e7",null);t.a=o.exports},1043:function(e,t,s){"use strict";s(1022)},1053:function(e,t,s){"use strict";var a=s(4),r=s.n(a),n=s(13),l=s.n(n),o={components:{LTag:s(11).z},props:{status:{type:Number,required:!0},shortName:{type:Boolean,default:!1}},computed:{thisStatus(){return this.statusType[this.status]||{}}},asyncComputed:{statusType:{default:{},get(){var e=this;return l()(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$lfeGetConfigAsync("recordStatus"));case 1:case"end":return t.stop()}}),t)})))()}}}},i=s(10),c=Object(i.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("l-tag",{staticClass:"tag",attrs:{color:e.thisStatus.color}},[e._v("\n  "+e._s(e.shortName?e.thisStatus.shortName:e.thisStatus.name)+"\n")])}),[],!1,null,null,null);t.a=c.exports},1054:function(e,t,s){"use strict";var a=s(6),r=s(36);a.c.add(r.i,r.h);var n={model:{prop:"expanded",event:"input"},props:{expanded:{type:Boolean,required:!0}}},l=(s(1043),s(10)),o=Object(l.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"expand-tip lfe-caption"},[s("span",{on:{click:function(t){return e.$emit("input",!e.expanded)}}},[s("font-awesome-icon",{attrs:{icon:["fal",e.expanded?"chevron-up":"chevron-down"]}}),e._v(" "),e._t(e.expanded?"compress":"expand")],2)])}),[],!1,null,"e4b7c2ca",null);t.a=o.exports},1104:function(e,t,s){},1105:function(e,t,s){},1106:function(e,t,s){},1107:function(e,t,s){var a=s(1385);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,s(416).default)("710bf980",a,!0,{})},1380:function(e,t,s){var a={"./abap":[1182,14],"./abap.js":[1182,14],"./abc":[1183,15],"./abc.js":[1183,15],"./actionscript":[1184,16],"./actionscript.js":[1184,16],"./ada":[1185,17],"./ada.js":[1185,17],"./apache_conf":[1186,18],"./apache_conf.js":[1186,18],"./applescript":[1187,19],"./applescript.js":[1187,19],"./asciidoc":[1188,20],"./asciidoc.js":[1188,20],"./assembly_x86":[1189,21],"./assembly_x86.js":[1189,21],"./autohotkey":[1190,22],"./autohotkey.js":[1190,22],"./batchfile":[1191,23],"./batchfile.js":[1191,23],"./bro":[1192,24],"./bro.js":[1192,24],"./c9search":[1193,25],"./c9search.js":[1193,25],"./c_cpp":[1194,26],"./c_cpp.js":[1194,26],"./cirru":[1195,27],"./cirru.js":[1195,27],"./clojure":[1196,28],"./clojure.js":[1196,28],"./cobol":[1197,29],"./cobol.js":[1197,29],"./coffee":[1198,11],"./coffee.js":[1198,11],"./coldfusion":[1199,0,1,2,30],"./coldfusion.js":[1199,0,1,2,30],"./csharp":[1200,31],"./csharp.js":[1200,31],"./csound_document":[1201,32],"./csound_document.js":[1201,32],"./csound_orchestra":[1202,33],"./csound_orchestra.js":[1202,33],"./csound_score":[1203,34],"./csound_score.js":[1203,34],"./css":[1204,1,35],"./css.js":[1204,1,35],"./curly":[1205,0,1,2,36],"./curly.js":[1205,0,1,2,36],"./d":[1206,37],"./d.js":[1206,37],"./dart":[1207,38],"./dart.js":[1207,38],"./diff":[1208,39],"./diff.js":[1208,39],"./django":[1209,0,1,2,40],"./django.js":[1209,0,1,2,40],"./dockerfile":[1210,41],"./dockerfile.js":[1210,41],"./dot":[1211,42],"./dot.js":[1211,42],"./drools":[1212,43],"./drools.js":[1212,43],"./eiffel":[1213,44],"./eiffel.js":[1213,44],"./ejs":[1214,0,1,2,45],"./ejs.js":[1214,0,1,2,45],"./elixir":[1215,46],"./elixir.js":[1215,46],"./elm":[1216,47],"./elm.js":[1216,47],"./erlang":[1217,48],"./erlang.js":[1217,48],"./forth":[1218,49],"./forth.js":[1218,49],"./fortran":[1219,50],"./fortran.js":[1219,50],"./ftl":[1220,51],"./ftl.js":[1220,51],"./gcode":[1221,52],"./gcode.js":[1221,52],"./gherkin":[1222,53],"./gherkin.js":[1222,53],"./gitignore":[1223,54],"./gitignore.js":[1223,54],"./glsl":[1224,55],"./glsl.js":[1224,55],"./gobstones":[1225,0,56],"./gobstones.js":[1225,0,56],"./golang":[1226,57],"./golang.js":[1226,57],"./graphqlschema":[1227,58],"./graphqlschema.js":[1227,58],"./groovy":[1228,0,59],"./groovy.js":[1228,0,59],"./haml":[1229,60],"./haml.js":[1229,60],"./handlebars":[1230,0,1,2,61],"./handlebars.js":[1230,0,1,2,61],"./haskell":[1231,62],"./haskell.js":[1231,62],"./haskell_cabal":[1232,63],"./haskell_cabal.js":[1232,63],"./haxe":[1233,64],"./haxe.js":[1233,64],"./hjson":[1234,65],"./hjson.js":[1234,65],"./html":[1235,0,1,2,66],"./html.js":[1235,0,1,2,66],"./html_elixir":[1236,0,1,2,67],"./html_elixir.js":[1236,0,1,2,67],"./html_ruby":[1237,0,1,2,68],"./html_ruby.js":[1237,0,1,2,68],"./ini":[1238,69],"./ini.js":[1238,69],"./io":[1239,70],"./io.js":[1239,70],"./jack":[1240,71],"./jack.js":[1240,71],"./jade":[1241,72],"./jade.js":[1241,72],"./java":[1242,0,73],"./java.js":[1242,0,73],"./javascript":[1243,0,74],"./javascript.js":[1243,0,74],"./json":[1244,12],"./json.js":[1244,12],"./jsoniq":[1245,75],"./jsoniq.js":[1245,75],"./jsp":[1246,76],"./jsp.js":[1246,76],"./jssm":[1247,77],"./jssm.js":[1247,77],"./jsx":[1248,78],"./jsx.js":[1248,78],"./julia":[1249,79],"./julia.js":[1249,79],"./kotlin":[1250,80],"./kotlin.js":[1250,80],"./latex":[1251,81],"./latex.js":[1251,81],"./lean":[1252,82],"./lean.js":[1252,82],"./less":[1253,83],"./less.js":[1253,83],"./liquid":[1254,84],"./liquid.js":[1254,84],"./lisp":[1255,85],"./lisp.js":[1255,85],"./live_script":[1256,86],"./live_script.js":[1256,86],"./livescript":[1257,87],"./livescript.js":[1257,87],"./logiql":[1258,88],"./logiql.js":[1258,88],"./lsl":[1259,89],"./lsl.js":[1259,89],"./lua":[1260,6,90],"./lua.js":[1260,6,90],"./luapage":[1262,0,1,2,6,91],"./luapage.js":[1262,0,1,2,6,91],"./lucene":[1263,92],"./lucene.js":[1263,92],"./makefile":[1264,93],"./makefile.js":[1264,93],"./markdown":[1265,0,1,2,4,94],"./markdown.js":[1265,0,1,2,4,94],"./mask":[1266,95],"./mask.js":[1266,95],"./matlab":[1267,96],"./matlab.js":[1267,96],"./mavens_mate_log":[1268,97],"./mavens_mate_log.js":[1268,97],"./maze":[1269,98],"./maze.js":[1269,98],"./mel":[1270,99],"./mel.js":[1270,99],"./mips_assembler":[1271,100],"./mips_assembler.js":[1271,100],"./mipsassembler":[1272,101],"./mipsassembler.js":[1272,101],"./mushcode":[1273,102],"./mushcode.js":[1273,102],"./mysql":[1274,103],"./mysql.js":[1274,103],"./nix":[1275,104],"./nix.js":[1275,104],"./nsis":[1276,105],"./nsis.js":[1276,105],"./objectivec":[1277,106],"./objectivec.js":[1277,106],"./ocaml":[1278,107],"./ocaml.js":[1278,107],"./pascal":[1279,108],"./pascal.js":[1279,108],"./perl":[1280,109],"./perl.js":[1280,109],"./pgsql":[1281,110],"./pgsql.js":[1281,110],"./php":[1282,0,1,2,111],"./php.js":[1282,0,1,2,111],"./pig":[1283,112],"./pig.js":[1283,112],"./plain_text":[1181,5],"./plain_text.js":[1181,5],"./powershell":[1284,113],"./powershell.js":[1284,113],"./praat":[1285,114],"./praat.js":[1285,114],"./prolog":[1286,115],"./prolog.js":[1286,115],"./properties":[1287,116],"./properties.js":[1287,116],"./protobuf":[1288,117],"./protobuf.js":[1288,117],"./python":[1289,118],"./python.js":[1289,118],"./r":[1290,119],"./r.js":[1290,119],"./razor":[1291,0,1,2,120],"./razor.js":[1291,0,1,2,120],"./rdoc":[1292,121],"./rdoc.js":[1292,121],"./red":[1293,122],"./red.js":[1293,122],"./rhtml":[1294,0,1,2,123],"./rhtml.js":[1294,0,1,2,123],"./rst":[1295,124],"./rst.js":[1295,124],"./ruby":[1296,125],"./ruby.js":[1296,125],"./rust":[1297,126],"./rust.js":[1297,126],"./sass":[1298,127],"./sass.js":[1298,127],"./scad":[1299,128],"./scad.js":[1299,128],"./scala":[1300,0,129],"./scala.js":[1300,0,129],"./scheme":[1301,130],"./scheme.js":[1301,130],"./scss":[1302,131],"./scss.js":[1302,131],"./sh":[1303,132],"./sh.js":[1303,132],"./sjs":[1304,0,133],"./sjs.js":[1304,0,133],"./smarty":[1305,0,1,2,134],"./smarty.js":[1305,0,1,2,134],"./snippets":[1306,135],"./snippets.js":[1306,135],"./soy_template":[1307,0,1,2,136],"./soy_template.js":[1307,0,1,2,136],"./space":[1308,137],"./space.js":[1308,137],"./sparql":[1309,138],"./sparql.js":[1309,138],"./sql":[1310,139],"./sql.js":[1310,139],"./sqlserver":[1311,140],"./sqlserver.js":[1311,140],"./stylus":[1312,141],"./stylus.js":[1312,141],"./svg":[1313,0,4,142],"./svg.js":[1313,0,4,142],"./swift":[1314,143],"./swift.js":[1314,143],"./swig":[1315,144],"./swig.js":[1315,144],"./tcl":[1316,145],"./tcl.js":[1316,145],"./tex":[1317,146],"./tex.js":[1317,146],"./text":[1318,147],"./text.js":[1318,147],"./textile":[1319,148],"./textile.js":[1319,148],"./toml":[1320,149],"./toml.js":[1320,149],"./tsx":[1321,0,150],"./tsx.js":[1321,0,150],"./turtle":[1322,151],"./turtle.js":[1322,151],"./twig":[1323,0,1,2,152],"./twig.js":[1323,0,1,2,152],"./typescript":[1324,0,153],"./typescript.js":[1324,0,153],"./vala":[1325,154],"./vala.js":[1325,154],"./vbscript":[1326,155],"./vbscript.js":[1326,155],"./velocity":[1327,0,1,2,156],"./velocity.js":[1327,0,1,2,156],"./verilog":[1328,157],"./verilog.js":[1328,157],"./vhdl":[1329,158],"./vhdl.js":[1329,158],"./wollok":[1330,0,159],"./wollok.js":[1330,0,159],"./xml":[1331,4,160],"./xml.js":[1331,4,160],"./xquery":[1332,161],"./xquery.js":[1332,161],"./yaml":[1333,162],"./yaml.js":[1333,162]};function r(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(s.e)).then((function(){return s.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=1380,e.exports=r},1381:function(e,t,s){"use strict";s(1104)},1382:function(e,t,s){"use strict";s(1105)},1383:function(e,t,s){"use strict";s(1106)},1384:function(e,t,s){"use strict";s(1107)},1385:function(e,t,s){(t=s(415)(!1)).push([e.i,"hr[data-v-2017244a]{margin:.8em 0;border:1px solid #e8e8e8}ul[data-v-2017244a]{list-style:none;margin:0;padding:0}li[data-v-2017244a]{margin-bottom:.5em;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}li[data-v-2017244a]:last-child{margin-bottom:0}.problem-card[data-v-2017244a]{position:relative}.hide-side[data-v-2017244a]{position:absolute;top:1.3em;right:1.3em}@media(max-width: 576px){.hide-side[data-v-2017244a]{display:none}}",""]),e.exports=t},1485:function(e,t,s){"use strict";s.r(t);var a=s(11),r=s(998),n=s(1054),l=s(982),o={components:{LuoguProblemDetailBlock:a.F},props:{problem:{type:Object,required:!0}}},i=s(10),c=Object(i.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("luogu-problem-detail-block",{attrs:{problem:e.problem}})}),[],!1,null,null,null).exports,u=s(4),d=s.n(u),p=s(13),m=s.n(p),v=s(1102),f=s(980),h=s(9),b=s(3),g=s(6),_=s(164);g.c.add(_.l,_.g,_.f);var j=["application/zip",".zip","plain/text",".txt"],k={components:{VueAceEditor:v,LButton:a.b,LCheck:a.e,LCombo:a.f,LSimpleSelect:a.v,SpinnerCircle:f.a},props:{problem:{type:Object,required:!0},contestId:{type:Number,default:null},defaultLang:{type:Number,default:null},defaultCode:{type:String,default:null}},data(){return{aceOptions:{fontSize:18},aceTheme:"clouds",code:this.defaultCode?this.defaultCode:"",enableO2:!1,lang:this.defaultLang?this.defaultLang:0,currentTab:"code",selectedFile:null,dragAreaStatus:null}},computed:{selectedLanguage(){return this.codeLanguages[this.lang]||{}},aceMode(){return this.selectedLanguage.aceMode||"plain_text"},langOption(){var e=Object.values(this.codeLanguages).map((e=>{var t=e.name;return{value:e.id,label:t}})).filter((e=>5!==e.value));return e.unshift({value:0,label:"自动识别语言"}),e},selectedFileIsArchive(){return this.selectedFile?this.selectedFile.name.endsWith(".zip"):null},acceptedFileTypes(){return[...j,...Object(b.uniq)(Object(b.flatten)(Object.values(this.codeLanguages).map((e=>(e.fileExtensions||"").split(",")))).map((e=>e.trim())))]}},asyncComputed:{codeLanguages:{get(){var e=this;return m()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$lfeGetConfigAsync("codeLanguages"));case 1:case"end":return t.stop()}}),t)})))()},default:{}}},watch:{currentTab(e){"file"===e&&this.$nextTick(this.addDragEventHandler)},selectedFile(e){if(e){var t,s=(t=e.name,t.substring(t.lastIndexOf("."))).toLowerCase().trim();if(!([".txt",".zip",""].indexOf(s)>=0)){var a=Object.values(this.codeLanguages).filter((e=>{var t=e.fileExtensions;return 5!==e.id&&(t||"").split(",").map((e=>e.trim())).indexOf(s)>=0}));1===a.length?this.lang=a[0].id||0:this.lang=0}}}},methods:{initAce(){s.e(13).then(s.t.bind(null,1480,7)),s.e(5).then(s.t.bind(null,1181,7)),s.e(163).then(s.t.bind(null,1481,7)),this.$lfeGetConfigAsync("codeLanguages").then((e=>{Object.values(e).forEach((e=>{var t=e.aceMode;s(1380)("./"+t)}))}))},submitCode(){var e=this;return m()(d.a.mark((function t(){var s,a,r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s={enableO2:e.enableO2?1:0,lang:e.lang,code:e.code},"file"!==e.currentTab){t.next=12;break}if(e.selectedFile){t.next=4;break}return t.abrupt("return");case 4:if(!e.selectedFileIsArchive){t.next=9;break}(s=new window.FormData).append("file",e.selectedFile),t.next=12;break;case 9:return t.next=11,e.selectedFile.text();case 11:s.code=e.code=t.sent;case 12:return e.$swal.showLoading(),t.prev=13,t.next=16,e.$lfeGetRoute({name:"api.problem.submit",params:{pid:e.problem.pid},query:{contestId:e.contestId?e.contestId:void 0}});case 16:return a=t.sent,t.next=19,Object(h.n)(a.href,s);case 19:r=t.sent,n=r.rid,e.$swalSuccess("提交成功",null,{showConfirmButton:!1,timer:1e3}),e.$router.push({name:"record.show",params:{id:n}}),t.next=29;break;case 25:return t.prev=25,t.t0=t.catch(13),t.next=29,e.$generalRequestExceptionCatcher(t.t0,{title:"提交失败"});case 29:case"end":return t.stop()}}),t,null,[[13,25]])})))()},addDragEventHandler(){this.$refs.dragArea.addEventListener("dragover",(e=>{e.preventDefault(),this.dragAreaStatus="over"})),this.$refs.dragArea.addEventListener("dragleave",(e=>{e.preventDefault(),this.dragAreaStatus=null})),this.$refs.dragArea.addEventListener("drop",(e=>{e.preventDefault(),this.dragAreaStatus=null;var t=e.dataTransfer.files||[];t.length>0&&(this.selectedFile=t[0])}))},selectFileHandler(){var e=this;return m()(d.a.mark((function t(){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=e.$refs.fileInput).files.length>0&&(e.selectedFile=s.files[0]),s.value="";case 3:case"end":return t.stop()}}),t)})))()}}},y=(s(1381),Object(i.a)(k,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("l-simple-select",{staticStyle:{display:"inline-flex"},attrs:{items:[{id:"code",value:"提交代码"},{id:"file",value:"提交文件"}]},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}}),e._v(" "),s("hr"),e._v(" "),"code"===e.currentTab?[s("l-combo",{staticClass:"lang-select light-black inline",attrs:{options:e.langOption,placeholder:"选择语言"},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}}),e._v(" "),e.contestId?e._e():s("l-check",{staticClass:"light-black inline",attrs:{inline:""},model:{value:e.enableO2,callback:function(t){e.enableO2=t},expression:"enableO2"}},[e._v("\n      开启 O2 优化\n    ")]),e._v(" "),s("p",{staticClass:"light-black"},[e._v("\n      请注意自动识别语言暂不支持近日新加入的部分非传统语言。\n    ")]),e._v(" "),s("vue-ace-editor",{staticClass:"editor",attrs:{options:e.aceOptions,lang:e.aceMode,theme:e.aceTheme,width:"100%",height:"480px"},on:{init:e.initAce},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),s("l-button",{staticStyle:{"margin-top":"1em"},attrs:{color:"error",solid:""},on:{click:e.submitCode}},[e._v("\n      提交评测\n    ")])]:"file"===e.currentTab?[s("div",{ref:"dragArea",staticClass:"drop",on:{click:function(t){return e.$refs.fileInput.click()}}},[s("div",{staticStyle:{"font-size":"3em"}},[null===e.selectedFile?s("font-awesome-icon",{attrs:{icon:["fad","upload"]}}):e.selectedFileIsArchive?s("font-awesome-icon",{attrs:{icon:["fad","file-archive"]}}):s("font-awesome-icon",{attrs:{icon:["fad","file-code"]}})],1),e._v(" "),s("br"),e._v(" "),null===e.selectedFile?s("keep-alive",[e.dragAreaStatus?s("span",{staticClass:"lfe-caption"},[e._v("松开文件上传")]):s("span",[e._v("选择文件")])]):s("keep-alive",[e.dragAreaStatus?s("span",{staticClass:"lfe-caption"},[e._v("松开文件上传")]):s("span",{staticClass:"lfe-caption"},[e._v(e._s(e.selectedFile.name))])]),e._v(" "),s("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{accept:e.acceptedFileTypes.join(","),type:"file"},on:{change:e.selectFileHandler}})],1),e._v(" "),null!==e.selectedFile?s("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[e.selectedFileIsArchive?e._e():s("div",[s("l-combo",{staticClass:"lang-select light-black inline",attrs:{options:e.langOption,placeholder:"选择语言"},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}}),e._v(" "),e.contestId?e._e():s("l-check",{staticClass:"light-black inline",attrs:{inline:""},model:{value:e.enableO2,callback:function(t){e.enableO2=t},expression:"enableO2"}},[e._v("\n          开启 O2 优化\n        ")])],1),e._v(" "),s("l-button",{staticStyle:{"margin-top":"1em"},attrs:{color:"error",solid:""},on:{click:e.submitCode}},[e._v("\n        提交评测\n      ")])],1):e._e(),e._v(" "),s("h3",[e._v("文件格式要求")]),e._v(" "),e._m(0),e._v(" "),e._m(1)]:e._e()],2)}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("\n      可以直接提交上传源程序文件。记得先在本地 IDE 上保存。"),s("br"),e._v("\n      对于 C++ 语言，建议手动选择自己使用的 C++ 标准版本。\n    ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("\n      特别的，提交答案题必须提交一个 "),s("b",[e._v("zip 压缩包")]),e._v("，内部按照测试点编号顺序，放置答案的文本文件。"),s("br"),e._v("\n      建议按照一定规则对答案进行命名，方便系统识别。"),s("br")])}],!1,null,"65a4f428",null).exports),x=s(1029),w={components:{LLink:a.n},props:{problem:{type:Object,required:!0}},asyncComputed:{problemDifficulty:{default:{},get(){var e=this;return m()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$lfeGetConfigAsync("problemDifficulty"));case 1:case"end":return t.stop()}}),t)})))()}}},computed:{stage(){return Object.values(this.problemDifficulty).find((e=>{var t=e.id;return this.problem.difficulty===t}))||{color:"",name:"?"}}}},O=(s(1382),Object(i.a)(w,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("l-link",{attrs:{to:{name:"problem.list",query:{difficulty:e.stage.id}},"color-scheme":"none"}},[s("span",{style:{color:e.$lfeGetTheme().color[e.stage.color]}},[e._v("\n    "+e._s(e.stage.name)+"\n  ")])])}),[],!1,null,"263e39b8",null).exports),C=s(1005),$=s(1053),S=s(83),L=s(991),T=s(992),q=s(1011),E=s(999),D=s.n(E),A={components:{LCard:a.c,LButton:a.b,MarkdownPalettes:D.a,LLink:a.n},props:{problem:{type:Object,required:!0},userTranslation:{type:Object,default:null}},data:()=>({translation:""}),watch:{userTranslation:{handler(e){this.translation=e?e.content:""},immediate:!0,deep:!0}},methods:{submitTranslation(){var e=this;return m()(d.a.mark((function t(){var s,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$lfeGetRoute({name:"api.problem.translate",params:{pid:e.problem.pid}});case 2:return s=t.sent,t.prev=3,t.next=6,Object(h.n)(s.href,{translation:e.translation});case 6:return a=t.sent,r=a.userTranslation,e.$set(e.$root.currentData,"userTranslation",r),t.next=11,e.$swalSuccess("提交成功",null,{showConfirmButton:!1,timer:1e3});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(3),t.next=17,e.$generalRequestExceptionCatcher(t.t0,{title:"提交失败"});case 17:case"end":return t.stop()}}),t,null,[[3,13]])})))()}}},B=(s(1383),Object(i.a)(A,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("l-card",[s("h3",{staticClass:"lfe-h3"},[e._v("翻译提交规则")]),e._v(" "),s("p",[e._v("为保证翻译质量，请勿提交以下翻译：")]),e._v(" "),s("ul",[s("li",[e._v("机器翻译")]),e._v(" "),s("li",[e._v("不是翻译的其它无意义内容")])]),e._v(" "),s("p",[e._v("\n      翻译可以是对题目的简述而不必字句对照原文，但此类翻译可能在有更好的翻译时被替换。"),s("br"),e._v("\n      被禁言的用户无法提交翻译。"),s("br"),e._v("\n      若翻译审核通过将由系统直接加入题面中，所以请不要在翻译中包含任何多余内容，包括at管理员等。\n    ")])]),e._v(" "),s("l-card",[s("h3",{staticClass:"lfe-h3"},[e._v("提交翻译")]),e._v(" "),s("markdown-palettes",{staticClass:"textarea",staticStyle:{height:"300px"},model:{value:e.translation,callback:function(t){e.translation=t},expression:"translation"}}),e._v(" "),s("div",{staticClass:"lfe-caption tip"},[e._v("\n      希望更丰富的展现？\n      "),s("l-link",{attrs:{to:"/blog/luogu/how-to-use-markdown","raw-link":"",blank:""}},[e._v("使用 Markdown")])],1),e._v(" "),s("l-button",{attrs:{solid:""},on:{click:e.submitTranslation}},[e._v("提交翻译")])],1)],1)}),[],!1,null,"677cfb26",null).exports),z=s(2);g.c.add(z.m,z.i,z.x,z.E);var I={components:{LButton:a.b,LCard:a.c,LLink:a.n,LInputGroup:a.m,LFlexInfoRows:T.a,LTags:r.a,LExpandTip:n.a,UserName:S.a,SidebarLayout:l.a,ProblemDetailBlock:c,ProblemSubmitBlock:y,ProblemTinyBlock:x.a,ProblemDifficultyBlock:O,ProblemScoreBlock:C.a,ProviderLink:L.a,RecordStatusTag:$.a,AdvertisementBlock:q.a,TranslationSubmitBlock:B},props:{currentData:{type:Object,required:!0},currentUser:{type:Object,default:null}},data:()=>({showAlgoTags:!1,showDiscussions:!1,showRecommendations:!1,hideSidebar:!1}),computed:{showSubmitBlock(){return"#submit"===this.$route.hash&&this.currentUser},showTranslationBlock(){return"#translate"===this.$route.hash&&this.currentUser&&this.problem.wantsTranslation},problem(){return this.currentData.problem},contestId(){return parseInt(this.$route.query.contestId)},tags(){var e=this.$lfeRoot.tags;return this.currentData.problem.tags.filter((t=>this.showAlgoTags||e[t]&&"Algorithm"!==e[t].type))}},methods:{getRecordListLink(e,t){var s={};return e&&(s.pid=e.pid),t&&(s.user=t.uid),this.$route.query.hasOwnProperty("contestId")&&(s.contestId=this.$route.query.contestId),{name:"record.list",query:s}}}},F=(s(1384),Object(i.a)(I,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("sidebar-layout",{attrs:{"hide-sidebar":e.hideSidebar}},[s("section",{attrs:{slot:"main"},slot:"main"},[e.showTranslationBlock?s("translation-submit-block",{attrs:{problem:e.problem,"user-translation":e.currentData.userTranslation}}):e.showSubmitBlock?[e.problem.vjudge?s("l-card",[s("h3",{staticClass:"lfe-h3"},[e._v("RemoteJudge")]),e._v(" "),s("p",[e._v("\n          您提交的代码将被"),s("b",[e._v("发送回原 OJ")]),e._v("进行评测，并由洛谷抓取其评测结果。"),s("l-link",{attrs:{to:"/blog/luogu/remotejudge",blank:"","color-scheme":"none"}},[e._v("详细了解")])],1),e._v(" "),"UVA"===e.problem.type?s("p",[e._v("\n          您正在提交 UVA 题库。该题库在境内可访问性较差，如出现各种错误请您过一段时间重试。提交 UVA 题库时服务器将会登录您绑定的账户，请您在本地不要操作 UVA，否则会将服务器的登录踢出而提交失败。\n        ")]):e._e(),e._v(" "),e.currentData.vjudgeUsername?s("p",[e._v("\n          将使用您绑定的账户 "),s("code",[e._v(e._s(e.currentData.vjudgeUsername))]),e._v(" 提交评测。"),s("l-link",{attrs:{to:{name:"user.setting",hash:"#information"},blank:"","color-scheme":"none"}},[e._v("重新绑定个人账户")])],1):e.currentUser.verified?["UVA"===e.problem.type?s("p",[e._v("\n            UVA 题目不支持使用公用账户评测，如果您没有绑定过 UVA 账户，请您"),s("l-link",{attrs:{to:{name:"user.setting",hash:"#information"},blank:"","color-scheme":"none"}},[e._v("绑定个人账户")]),e._v("。由于 UVA 在境内可访问性较差，绑定可能会频繁失败，如无法绑定，请您过一段时间重试。\n          ")],1):s("p",[e._v("\n            将使用公用账户进行评测。建议您"),s("l-link",{attrs:{to:{name:"user.setting",hash:"#information"},blank:"","color-scheme":"none"}},[e._v("绑定个人账户")]),e._v("，使用自己在原 OJ 的账户提交评测。\n          ")],1)]:s("p",[e._v("\n          未实名认证用户无法使用公用账户提交评测，如果没有绑定过账户，请您"),s("l-link",{attrs:{to:{name:"user.setting",hash:"#information"},blank:"","color-scheme":"none"}},[e._v("绑定个人账户")]),e._v("。\n        ")],1)],2):e._e()]:[e.problem.wantsTranslation?s("l-card",[e.currentData.userTranslation?[s("b",[e._v("本题征求翻译。")]),e._v("感谢您提交的翻译文本，管理员将会尽快审核。在审核通过前，您也可以"),s("l-link",{attrs:{to:"#translate","color-scheme":"none"}},[e._v("修改翻译")]),e._v("。\n        ")]:[s("b",[e._v("本题征求翻译。")]),e._v("如果您能提供翻译或者题意简述，请"),s("l-link",{attrs:{to:"#translate","color-scheme":"none"}},[e._v("提交翻译")]),e._v("，感谢您的贡献。\n        ")]],2):e._e()],e._v(" "),e.showTranslationBlock?e._e():s("l-card",{staticClass:"problem-card"},[s("l-link",{staticClass:"hide-side",on:{click:function(t){e.hideSidebar=!e.hideSidebar}}},[e.hideSidebar?s("span",[s("font-awesome-icon",{attrs:{icon:"compress-wide"}}),e._v("\n          收起\n        ")],1):s("span",[s("font-awesome-icon",{attrs:{icon:"expand-wide"}}),e._v("\n          展开\n        ")],1)]),e._v(" "),s("keep-alive",[e.showSubmitBlock?s("problem-submit-block",{attrs:{problem:e.problem,"contest-id":e.contestId,"default-lang":e.currentData.lastLanguage,"default-code":e.currentData.lastCode}}):s("problem-detail-block",{attrs:{problem:e.problem}})],1)],1)],2),e._v(" "),s("l-card",{attrs:{slot:"side"},slot:"side"},[s("l-flex-info-rows",{staticStyle:{"margin-bottom":"1em"}},[e.problem.vjudge?[s("span",{attrs:{slot:"left"},slot:"left"},[e._v("题目编号")]),e._v(" "),s("span",{attrs:{slot:"right"},slot:"right"},[e._v(e._s(e.problem.pid))]),e._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[e._v("题目来源")]),e._v(" "),s("l-link",{attrs:{slot:"right",to:e.problem.vjudge.link,blank:"","raw-link":""},slot:"right"},[e._v("\n          "+e._s(e.problem.vjudge.origin)+" "+e._s(e.problem.vjudge.id)+"\n        ")]),e._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[e._v("评测方式")]),e._v(" "),s("l-link",{attrs:{slot:"right",to:"/blog/luogu/remotejudge",blank:"","raw-link":""},slot:"right"},[s("b",[e._v("RemoteJudge")])])]:[s("span",{attrs:{slot:"left"},slot:"left"},[e._v("题目提供者")]),e._v(" "),s("provider-link",{attrs:{slot:"right",provider:e.problem.provider,"user-badge":""},slot:"right"})],e._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[e._v("难度")]),e._v(" "),s("problem-difficulty-block",{attrs:{slot:"right",problem:e.problem},slot:"right"}),e._v(" "),e.currentUser?[s("span",{attrs:{slot:"left"},slot:"left"},[e._v("历史分数")]),e._v(" "),s("l-link",{staticStyle:{"text-decoration":"none"},attrs:{slot:"right",to:e.getRecordListLink(e.problem,e.currentUser)},slot:"right"},[e.problem.showScore?s("problem-score-block",{attrs:{problem:e.problem}}):e.problem.accepted?s("record-status-tag",{attrs:{status:12,"short-name":""}}):s("span",[e._v("无")])],1)]:e._e()],2),e._v(" "),s("l-link",{attrs:{to:e.getRecordListLink(e.problem)}},[s("font-awesome-icon",{attrs:{icon:"chart-pie"}}),e._v("\n      提交记录\n    ")],1),e._v(" "),"U"===e.problem.type||"T"===e.problem.type||e.contestId?e._e():s("l-link",{staticStyle:{"margin-left":"1em"},attrs:{to:{name:"problem.solution",params:{pid:e.problem.pid}},blank:""}},[s("font-awesome-icon",{attrs:{icon:"book"}}),e._v("\n      查看题解\n    ")],1)],1),e._v(" "),s("l-card",{attrs:{slot:"side"},slot:"side"},[s("h3",{staticClass:"lfe-h3"},[e._v("标签")]),e._v(" "),0===e.currentData.problem.tags.length?s("span",[e._v("暂无标签")]):[s("l-tags",{attrs:{tags:e.tags,multiline:"",link:"go"}}),e._v(" "),s("l-expand-tip",{model:{value:e.showAlgoTags,callback:function(t){e.showAlgoTags=t},expression:"showAlgoTags"}},[s("template",{slot:"expand"},[e._v("查看算法标签")]),e._v(" "),s("template",{slot:"compress"},[e._v("隐藏算法标签")])],2)]],2),e._v(" "),s("l-card",{attrs:{slot:"side"},slot:"side"},[s("l-link",{staticStyle:{float:"right"},attrs:{to:"/discuss/lists?forumname="+e.problem.pid,blank:"","raw-link":""}},[e._v("\n      进入讨论版\n    ")]),e._v(" "),s("h3",{staticClass:"lfe-h3"},[e._v("相关讨论")]),e._v(" "),e.currentData.discussions.length>0?[e.showDiscussions?s("ul",e._l(e.currentData.discussions,(function(t){var a=t.id,r=t.title;return s("li",{key:a},[s("l-link",{attrs:{to:"/discuss/show/"+a,blank:"","raw-link":""}},[e._v("\n            "+e._s(r)+"\n          ")])],1)})),0):e._e(),e._v(" "),s("l-expand-tip",{model:{value:e.showDiscussions,callback:function(t){e.showDiscussions=t},expression:"showDiscussions"}},[s("template",{slot:"expand"},[e._v("查看讨论")]),e._v(" "),s("template",{slot:"compress"},[e._v("隐藏讨论")])],2)]:s("span",[e._v("暂无")])],2),e._v(" "),s("l-card",{attrs:{slot:"side"},slot:"side"},[s("h3",{staticClass:"lfe-h3"},[e._v("推荐题目")]),e._v(" "),e.currentData.recommendations.length>0?[e.showRecommendations?s("ul",e._l(e.currentData.recommendations,(function(e){return s("li",{key:e.pid},[s("problem-tiny-block",{attrs:{problem:e}})],1)})),0):e._e(),e._v(" "),s("l-expand-tip",{model:{value:e.showRecommendations,callback:function(t){e.showRecommendations=t},expression:"showRecommendations"}},[s("template",{slot:"expand"},[e._v("查看推荐")]),e._v(" "),s("template",{slot:"compress"},[e._v("隐藏推荐")])],2)]:s("span",[e._v("暂无")])],2),e._v(" "),s("advertisement-block",{attrs:{slot:"side"},slot:"side"})],1)}),[],!1,null,"2017244a",null));t.default=F.exports},964:function(e,t,s){},965:function(e,t,s){"use strict";var a={props:{maxWidth:{type:String,default:void 0},marginTop:{type:String,default:"2em"}}},r=(s(966),s(10)),n=Object(r.a)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"full-container",style:{maxWidth:e.maxWidth,marginTop:e.marginTop}},[e._t("default")],2)}),[],!1,null,"6febb0e8",null);t.a=n.exports},966:function(e,t,s){"use strict";s(964)},973:function(e,t,s){},974:function(e,t,s){},980:function(e,t,s){"use strict";var a={small:{side:"16px",border:"1px"},middle:{side:"32px",border:"2px"},large:{side:"64px",border:"4px"}},r={props:{dark:{type:Boolean,default:!1},size:{type:[String,Object],default:"small"}},computed:{sizeProperty(){return"string"==typeof this.size?a[this.size]:this.size}}},n=(s(984),s(10)),l=Object(n.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spinner",class:[{dark:e.dark}],style:{width:e.sizeProperty.side,height:e.sizeProperty.side}},[s("div",{style:{width:e.sizeProperty.side,height:e.sizeProperty.side,borderWidth:e.sizeProperty.border}})])}),[],!1,null,"bbdab89a",null);t.a=l.exports},982:function(e,t,s){"use strict";var a={components:{FullLayout:s(965).a},props:{hideSidebar:{type:Boolean,default:!1},marginTop:{type:String,default:"2em"}}},r=(s(983),s(10)),n=Object(r.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("full-layout",{style:{marginTop:e.marginTop}},[s("section",{ref:"side",staticClass:"side",style:e.hideSidebar?{display:"none"}:{}},[e._t("side")],2),e._v(" "),s("section",{ref:"main",staticClass:"main",style:e.hideSidebar?{width:"100%"}:{}},[e._t("main")],2)])}),[],!1,null,"0cd59e64",null);t.a=n.exports},983:function(e,t,s){"use strict";s(973)},984:function(e,t,s){"use strict";s(974)},985:function(e,t,s){},989:function(e,t,s){},991:function(e,t,s){"use strict";var a=s(11),r=s(83),n={components:{LLink:a.n,UserName:r.a},props:{provider:{type:Object,required:!0},userBadge:{type:Boolean,default:!1}}},l=s(10),o=Object(l.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e.provider.uid?s("user-name",{attrs:{user:e.provider,badge:e.userBadge}}):s("l-link",{attrs:{to:{name:"team.show",params:{id:e.provider.id}}}},[e._v(e._s(e.provider.name))])],1)}),[],!1,null,null,null);t.a=o.exports},992:function(e,t,s){"use strict";var a=s(27),r=s.n(a),n=s(3),l={render(e){var t=Object(n.zip)(this.$slots.left,this.$slots.right).map((t=>{var s=r()(t,2),a=s[0],n=s[1];return e("div",{},[e("span",[a]),e("span",[n])])}));return e("div",{class:"info-rows"},t)}},o=(s(993),s(10)),i=Object(o.a)(l,undefined,undefined,!1,null,"3a151854",null);t.a=i.exports},993:function(e,t,s){"use strict";s(985)},994:function(e,t,s){},995:function(e,t,s){},998:function(e,t,s){"use strict";var a=s(19),r=s.n(a),n=s(11);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}var o={components:{LLink:n.n,LTag:n.z},props:{tags:{type:Array,required:!0},multiline:{type:Boolean,default:!1},link:{type:String,default:null}},computed:{sortedTags(){return this.tags.map(((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){r()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({idx:t,tagId:e,color:"grey-5",name:""},this.allTags[e]||{}))).sort(((e,t)=>e.type!==t.type?e.type<t.type?-1:1:e.idx-t.idx))},allTags(){return this.$lfeRoot.tags}}},i=(s(1001),s(10)),c=Object(i.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.link?s("div",{staticClass:"tags-wrap",class:{multiline:e.multiline}},e._l(e.sortedTags,(function(t,a){var r=t.color,n=t.name,l=t.tagId;return s("l-link",{key:a,staticClass:"tag",attrs:{to:"go"===e.link?{name:"problem.list",query:{tag:l}}:null,"color-scheme":"none"},on:{click:function(t){"emit"===e.link&&e.$emit("click",l)}}},[s("l-tag",{attrs:{color:r}},[e._v(e._s(n))])],1)})),1):s("div",{staticClass:"tags-wrap",class:{multiline:e.multiline}},e._l(e.sortedTags,(function(t,a){var r=t.color,n=t.name;return s("l-tag",{key:a,staticClass:"tag",attrs:{color:r}},[e._v(e._s(n))])})),1)])}),[],!1,null,"187aafe9",null);t.a=c.exports}}]);